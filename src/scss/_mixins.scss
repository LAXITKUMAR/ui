// Copyright (c) 2020 Target Brands, Inc. All rights reserved.
//
// Use of this source code is governed by the LICENSE file in this repository.

// utility for adding pseudo content slashes as separators
// used mostly for separating links and breadcrumbs
@mixin slashes {
  position: absolute;
  right: -1.1ch;

  color: var(--color-secondary);
  text-decoration: none;

  content: '/';
}

// hide visually - still accessible for screen readers
@mixin visually-hidden($focusable: false) {
  position: absolute;

  width: 1px;
  height: 1px;
  overflow: hidden;

  clip: rect(1px, 1px, 1px, 1px);

  @if $focusable == true {
    &:active,
    &:focus {
      position: static;

      width: auto;
      height: auto;
      overflow: visible;

      clip: auto;
    }
  }
}

// attaches a pointer to a parent container
@mixin attach-pointer($size: 10px, $alignment: center, $side: top) {
  @supports (clip-path: inset(50%)) {
    &::after {
      position: absolute;
      top: -($size/2);
      left: calc(50% - #{$size} / 2);

      display: block;

      width: $size;
      height: $size;

      background-color: inherit;

      border: inherit;
      transform: rotate(135deg);

      content: '';

      clip-path: polygon(0% 0%, 100% 100%, 0% 100%);
    }
  }
}

// responsive mixin
@mixin respond-to($media) {
  @if $media == small {
    @media only screen and (max-width: $break-small) {
      @content;
    }
  }
}
